# Contributor: Asuka Minato
# Contributor: Luis Martinez <luis dot martinez at disroot dot org>
# Contributor: Andrew Sun <adsun701@gmail.com>
# Contributor: Anton Bazhenov <anton.bazhenov at gmail>
# Contributor: Axel Reidemeister[computerkranker] <mail@axelreidemeister.de>

pkgname=libinklevel
pkgver=0.9.7
pkgrel=1
pkgdesc="A library for checking the ink level of your printer"
arch=('i686' 'x86_64')
url="http://libinklevel.sourceforge.net/"
license=('GPL')
depends=('libusb' 'libxml2' 'glibc')
provides=('libinklevel.so=5-64')
makedepends=(git sed)
source=("$pkgname-$pkgver.tar.gz::https://downloads.sourceforge.net/$pkgname/$pkgname-$(echo $pkgver | sed 's|_|.|g').tar.gz")
sha256sums=('819d3bb4c2578722c1057c9f3da999a1a3eb46628f0fe91aeb52bfccd3884675')

function pkgver() {
	echo "${pkgver}" | sed 's|_|.|g'
}

build() {
	cd "$pkgname-$pkgver"
	./configure --prefix=/usr
	make
}

package() {
	cd "$pkgname-$pkgver"
	make DESTDIR="$pkgdir/" install
}
