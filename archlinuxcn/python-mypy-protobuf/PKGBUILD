pkgname=python-mypy-protobuf
pkgver=4.0.0
pkgrel=1

pkgdesc='Generate mypy stub files from protobuf specs'
url='https://github.com/nipunn1313/mypy-protobuf'
arch=('any')
license=('Apache')

depends=('mypy' 'protobuf' 'python' 'python-protobuf')
makedepends=('python-build' 'python-installer' 'python-wheel' 'python-setuptools' git)

source=("source::git+${url}.git#tag=v${pkgver}")

sha256sums=('af114c760e70f3ae5d4f7c302deb4a71aee08ad26402d81034ad4bac06fd780f')

build() {
	cd source
	python -m build --wheel --no-isolation
}

package() {
	cd source
	python -m installer --destdir="$pkgdir" dist/*.whl
}
