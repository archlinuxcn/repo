# PKGBUILD generated by pipman
# Python package author: Stefan Marsiske <s@ctrlc.hu>
# Maintainer: Hauke Rehfeld <aur.archlinux.org@haukerehfeld.de>
pkgname=python-pysodium
pkgver=0.7.12
pkgrel=1
pkgdesc="python libsodium wrapper"
arch=(any)
url="https://github.com/stef/pysodium"
license=(BSD)
makedepends=("python" "python-pip" "python-wheel")
depends=("libsodium" "python")
build() {
  pip install --no-deps --target="pysodium" pysodium==${pkgver}
}
package() {
  sitepackages=$(python -c "import site; print(site.getsitepackages()[0])")
  mkdir -p $pkgdir/"$sitepackages"
  cp -r $srcdir/pysodium/* $pkgdir/"$sitepackages"

  install -Dm644 "$srcdir/pysodium/pysodium-${pkgver}.dist-info/LICENSE.txt" -t "$pkgdir/usr/share/licenses/$pkgname/"
}
