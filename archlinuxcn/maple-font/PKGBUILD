# Maintainer: Gavin Luo <lunt.luo@gmail.com>

pkgbase="maple-font"

pkgver=7.5
pkgrel=1
pkgdesc="Open source monospace font with round corner, ligatures and Nerd-Font for IDE and terminal. 带连字和控制台图标的圆角等宽字体，中英文宽度完美2:1。"
url="https://github.com/subframe7536/maple-font"
arch=("any")
license=("OFL-1.1")
makedepends=("unzip")

pkgname=()
source=()
noextract=()
sha256sums=('a5885688e07d446a1ffb7532e4a955806b4746da0f8e42875bf6ae9447edacdf'
            'b83845bda4bc0b3d06878b8f747c461c1fa26e79a33e0a376ebc3545ecae6e3a'
            '9b439e9c48a77ea3b314f77d27ef61be6956672a3d80de3c2acbed9d22596d0c'
            'd47d4090c684fb21b65a5a78371bcabbdcff5449d2c862d55475fb60af5894a8'
            'd43ee801cbaba52dcf090464cbe4a96f6974cf68fe67132acd0a8b7425c0a690'
            'a8f00a7cd0fdaf962899f290c92ea53bb050c30a3817e2aa41d5fb26bf4433d6'
            'e9997db270ceb20be8b304c86bc76a471fa9600cbd379c90e09eb6aafb1d94ab'
            '75dcc60cb083ef7faaa5d9a063e836cdb93474d76c2c5d5d03dcaec37c734d2d'
            '820009abd4a0f22d655e913a69d36a8555c91f903537b75eaec90dfd94e7f8a1'
            '60a5ad52fcf7686ac48e2844cdc8eaea0286d3116944aaa2496e9c19f86fb32f'
            '34f9e25f8ede492b7aa69eea8aa861aba12969c0432b1956b22c114e8c93d84d'
            '2aa172be629e0e2cc3d4b95a47e2f792221e5d27beed5a1a309195d7f34ccfff'
            '1c901643f0f0dcca5f8dc73be7a6aab943ec44b80abfbb4dff0f230d9878c59e'
            '8608ca98a49c8e7ddeae92a005eb737fb8a225ae5661d0b82734d942419ba8d8'
            'a8806175b252c3dc3d93c561fe0a06d85e3a62f867d5aa5eaa549b903db29f54'
            '508f0e02dd0fb915d87a4e20b60d34cd96982a2362656c7973bf62ceafde01b6'
            'f14949bbdea02f55e1645b359659806a2b07f8ab0862c5c0f4322a07610c7e3a'
            '38e6bf7ad31042f9abaea0b8659bb84302c79ec52dca929bd34bc6969f18da3e'
            '790ca4d4b47e75f7f75317d3fc8d110a0534b299b52d646866d4349b42541911'
            '69186d2926f352cd7bf6eb115213a9b05332acce1daa1ef1b79998d0f3ac911e'
            'd6e7963547de6af1271f11f8839421722ffe2f1a1b47066ae294ec8f8bf5a2ce'
            'e59442965f6babbf68027afd5a05b180d16d71d2fc96363bdb00d99eca31e5b2'
            '84d25f86c6b1467cefff763c1b369fe729bd5f10c4c953ab2d1dc4f45a4597cb'
            '4a84b9d8bd3da36a99972285b9104ee45e0f297045005c48eb1a5ce047f55c77'
            'bdb58819097983f38a145d142b79b6454677d1bbb71ff6edcd77b431b264e480'
            '6dc1fd2cc2cc68a27903ef7df78caf6cca14360cf8def4140d3b36d3461e1e7e'
            'c96d7945fec613c432e587bd40604c2e66be2b1d8a8fede5fd2000ce904b83c9'
            '120de129c1e4b25b2f1b39090eb864c8dd08018ae31c9f9eaf3140540bbf2b48'
            '3d5b182ff31d0fb697dcfe6461a7daff1c11f38076b86e53ccc7e2ee2d513963'
            'bed107281bf482323a22ecd706665c515252e9f3cd1ff1c9aa8855641c173745'
            '62450d979f679654d071ad43ba3f6986edb4acb3224d299c097734465b8a967e'
            '8b4b2522b054c005d98fa55550152c13237e9b24a020125c0392cbee205a9810'
            '538c383ea47c602d07a2d0ecfeb1ee5127f6f1606728d9d51def05b4ef0c0870'
            '749d928be97e350002f9aacec4e86f045cb2e6ebd65912a1dd10fad9f48897c4'
            'fdce6353b3ba33e86745866e14357183f3c0fb093be4776594d5f92086abc369'
            '02de88f5e486ac5fbd6961792f67f86f66b73d6ab87abed8327619260e31c02f'
            '1151e8154e0f4246c792795f11f69f6330cac0fc1f42c01dfb5a19693f2179aa'
            'e5a706bd47053d031d4a1f422bb3164bf34da39d9e883a54881462547debb33e'
            '6365d2341f7108e1b1f72d5f9c41c6ced2bb73d06301d623e0f1f6f85b7d710f'
            '4a9f35b64dad78a93d7e0ee9d0b27408b5e6a21eb965c14d8bf04e5737a61aa4'
            '24a3e049939ac6a4d296ca84a9b7e8eab6b6ecba82c73151a5eefc6945ae9c1c'
            '299041e1fc90993515c17b110bccaa899b46f440f78ac8fae3fb44f2c0e0492e'
            'f793afa8eb3daa8ff7f143e7196182179486c6b4569c413a3964fc33427a5d8d'
            '07045af41a6401ef13c389a7d7afa0e35677822215a3125319d0b6564df49608')
_variant=("MapleMono-CN-unhinted"
          "MapleMono-CN"
          "MapleMono-NF-CN-unhinted"
          "MapleMono-NF-CN"
          "MapleMono-NF-unhinted"
          "MapleMono-NF"
          "MapleMono-OTF"
          "MapleMono-TTF-AutoHint"
          "MapleMono-TTF"
          "MapleMono-Variable"
          "MapleMono-Woff2"
          "MapleMonoNL-CN-unhinted"
          "MapleMonoNL-CN"
          "MapleMonoNL-NF-CN-unhinted"
          "MapleMonoNL-NF-CN"
          "MapleMonoNL-NF-unhinted"
          "MapleMonoNL-NF"
          "MapleMonoNL-OTF"
          "MapleMonoNL-TTF-AutoHint"
          "MapleMonoNL-TTF"
          "MapleMonoNL-Variable"
          "MapleMonoNL-Woff2"
          "MapleMonoNormal-CN-unhinted"
          "MapleMonoNormal-CN"
          "MapleMonoNormal-NF-CN-unhinted"
          "MapleMonoNormal-NF-CN"
          "MapleMonoNormal-NF-unhinted"
          "MapleMonoNormal-NF"
          "MapleMonoNormal-OTF"
          "MapleMonoNormal-TTF-AutoHint"
          "MapleMonoNormal-TTF"
          "MapleMonoNormal-Variable"
          "MapleMonoNormal-Woff2"
          "MapleMonoNormalNL-CN-unhinted"
          "MapleMonoNormalNL-CN"
          "MapleMonoNormalNL-NF-CN-unhinted"
          "MapleMonoNormalNL-NF-CN"
          "MapleMonoNormalNL-NF-unhinted"
          "MapleMonoNormalNL-NF"
          "MapleMonoNormalNL-OTF"
          "MapleMonoNormalNL-TTF-AutoHint"
          "MapleMonoNormalNL-TTF"
          "MapleMonoNormalNL-Variable"
          "MapleMonoNormalNL-Woff2")

for _var in "${_variant[@]}"; do
  if [[ "${_var}" == *"OTF"* ]]; then
    _pkgname="otf-${_var//-OTF/}"
  elif [[ "${_var}" == *"Woff2"* ]]; then
    _pkgname="woff2-${_var//-Woff2/}"
  else
    _pkgname="ttf-${_var//-TTF/}"
  fi
  _pkgname=${_pkgname,,}
  pkgname+=("${_pkgname}")

  if [[ "${_var}" == "MapleMono-TTF" ]]; then
    _replaces="ttf-maple"
  elif [[ "${_var}" == "MapleMonoNL-TTF-AutoHint" ]]; then
    _replaces="ttf-maple-autohint"
  elif [[ "${_var}" == "MapleMono-OTF" ]]; then
    _replaces="otf-maple"
  elif [[ "${_var}" == "MapleMono-Woff2" ]]; then
    _replaces="woff2-maple"
  elif [[ "${_var}" == "MapleMono-NF" ]]; then
    _replaces="ttf-maple-nerd"
  elif [[ "${_var}" == "MapleMono-NF-CN" ]]; then
    _replaces="ttf-maple-sc-nerd"
  else
    _replaces=""
  fi

  _filename="${_var}.zip"
  noextract+=("${_filename}")
  source+=("${url}/releases/download/v${pkgver}/${_filename}")

  eval "package_${_pkgname}() {
  replaces=(${_replaces})

  unzip "${_filename}" -d \${pkgname}

  install -d "\$pkgdir/usr/share/fonts/maple"
  install -Dm644 -t "\$pkgdir/usr/share/fonts/maple" \${pkgname}/Maple*

  install -d "\$pkgdir/usr/share/licenses/\${pkgname}"
  install -Dm644 -t "\$pkgdir/usr/share/licenses/\${pkgname}" \${pkgname}/LICENSE.txt
}"
done
